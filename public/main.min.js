(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var g=(new Date).getTime(),f=Math.max(0,16-(g-a)),h=window.setTimeout(function(){b(g+f)},f);a=g+f;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),g=e.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");1<arguments.length&&(c=b);for(d=0;d<g;){var f;d in e&&(f=e[d],a.call(c,f,d,e));d++}});Array.from||(Array.from=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b});var cuiffo=cuiffo||{};cuiffo.math=cuiffo.math||{};cuiffo.math.easeOutQuad=function(a,b,c,d){a/=d;return-c*a*(a-2)+b};cuiffo.math.easeInOutQuad=function(a,b,c,d){a/=d/2;if(1>a)return c/2*a*a+b;a--;return-c/2*(a*(a-2)-1)+b};cuiffo.math.Rect=function(a,b){this.height=a;this.width=b};cuiffo=cuiffo||{};cuiffo.dom=cuiffo.dom||{};cuiffo.dom.getScrollPosition=function(){return document.documentElement.scrollTop||document.body.scrollTop};cuiffo.dom.getWindowHeight=function(){return window.innerHeight};cuiffo.dom.getWindowWidth=function(){return window.innerWidth};cuiffo.dom.getSize=function(a){return new cuiffo.math.Rect(a.clientHeight,a.clientWidth)};
cuiffo.dom.setCssTransform=function(a,b){a.style.webkitTransform=b;a.style.MozTransform=b;a.style.msTransform=b;a.style.OTransform=b;a.style.transform=b};cuiffo.dom.addEventListener=function(a,b,c,d){var e="on"+b;a.addEventListener?a.addEventListener(b,c,d):a.attachEvent(e,c)};cuiffo=cuiffo||{};
(function(){cuiffo.Animator=function(){this.callbacks=[];this.isTicking=!1};cuiffo.Animator.getInstance=function(){cuiffo.Animator.__instance__=cuiffo.Animator.__instance__||new cuiffo.Animator;return cuiffo.Animator.__instance__};cuiffo.Animator.prototype.startAnimation=function(a){this.callbacks.push(a);this.isTicking||(this.isTicking=!0,window.requestAnimationFrame(this.tick.bind(this)))};cuiffo.Animator.prototype.tick=function(){for(var a=(new Date).getTime(),b=!0,c=[],d=0;d<this.callbacks.length;d++)(0,this.callbacks[d])(a)&&
(b=!1,c.push(d));for(d=0;d<c.length;d++)this.callbacks.splice(c[d]-d,1);b?window.requestAnimationFrame(this.tick.bind(this)):this.isTicking=!1}})();cuiffo=cuiffo||{};
(function(){cuiffo.TitleAnimation=function(){this.TEXT_ANIM_DURATION=200;this.lastStartPosition=this.easeEndPosition=this.easeStartPosition=this.textAnimEndTime=0};cuiffo.TitleAnimation.getInstance=function(){cuiffo.TitleAnimation.__instance__=cuiffo.TitleAnimation.__instance__||new cuiffo.TitleAnimation;return cuiffo.TitleAnimation.__instance__};cuiffo.TitleAnimation.prototype.handleScroll=function(){this.easeStartPosition=this.lastStartPosition;this.textAnimEndTime=(new Date).getTime()+this.TEXT_ANIM_DURATION;
var a=document.getElementsByClassName("cuiffo-page-title")[0].clientHeight+30;this.easeEndPosition=cuiffo.dom.getScrollPosition()/cuiffo.dom.getWindowHeight()*a;var a=cuiffo.Animator.getInstance(),b=this.textAnimationFn.bind(this);a.startAnimation(b)};cuiffo.TitleAnimation.prototype.textAnimationFn=function(a){var b=!1;a>this.textAnimEndTime?(this.lastStartPosition=this.easeEndPosition,b=!0):this.lastStartPosition=cuiffo.math.easeOutQuad(Math.max(a-(this.textAnimEndTime-this.TEXT_ANIM_DURATION),20),
this.easeStartPosition,this.easeEndPosition-this.easeStartPosition,this.TEXT_ANIM_DURATION);a=document.getElementsByClassName("cuiffo-page-title")[0];a.style.opacity=Math.max(1-this.lastStartPosition/(a.clientHeight+30),0);cuiffo.dom.setCssTransform(a,"translateY("+this.lastStartPosition+"px)");return b}})();cuiffo=cuiffo||{};
(function(){cuiffo.PageAnimation=function(){this.SCROLL_ANIM_DURATION=500;this.lastStartScroll=this.easeScrollPositionEnd=this.easeScrollPositionStart=this.easeScrollEndTime=0;this.isAnimating=!1};cuiffo.PageAnimation.getInstance=function(){cuiffo.PageAnimation.__instance__=cuiffo.PageAnimation.__instance__||new cuiffo.PageAnimation;return cuiffo.PageAnimation.__instance__};cuiffo.PageAnimation.prototype.scrollToElement=function(a){this.easeScrollPositionEnd=a.offsetTop;this.easeScrollEndTime=(new Date).getTime()+
this.SCROLL_ANIM_DURATION;this.lastStartScroll=this.easeScrollPositionStart=a=cuiffo.dom.getScrollPosition();a=cuiffo.Animator.getInstance();var b=this.pageAnimationFn.bind(this);a.startAnimation(b);this.isAnimating=!0};cuiffo.PageAnimation.prototype.pageAnimationFn=function(a){var b=!1;a>this.easeScrollEndTime?(this.lastStartScroll=this.easeScrollPositionEnd,cuiffo.TitleAnimation.getInstance().handleScroll(),cuiffo.Pages.getInstance().updateActivePage(),b=!0,this.isAnimating=!1):this.lastStartScroll=
cuiffo.math.easeInOutQuad(a-(this.easeScrollEndTime-this.SCROLL_ANIM_DURATION),this.easeScrollPositionStart,this.easeScrollPositionEnd-this.easeScrollPositionStart,this.SCROLL_ANIM_DURATION);window.scrollTo(0,this.lastStartScroll);return b}})();cuiffo=cuiffo||{};
(function(){cuiffo.Pages=function(){this.elements=Array.from(document.getElementsByClassName("cuiffo-page"));this.numPages=this.elements.length;this.currentPage=0;this.yDown=this.xDown=null;this.activePage=-1;var a=this.handleTouchStart.bind(this),b=this.handleTouchMove.bind(this);cuiffo.dom.addEventListener(document,"touchstart",a,!1);cuiffo.dom.addEventListener(document,"touchmove",b,!1);this.createPageDots()};cuiffo.Pages.getInstance=function(){cuiffo.Pages.__instance__=cuiffo.Pages.__instance__||new cuiffo.Pages;
return cuiffo.Pages.__instance__};cuiffo.Pages.prototype.resizePages=function(){this.elements.forEach(function(a){a.style.height=cuiffo.dom.getWindowHeight()+"px"})};cuiffo.Pages.prototype.createPageDots=function(){for(var a=document.getElementsByClassName("cuiffo-page-selector")[0],b=0;b<this.numPages;b++){var c=document.createElement("div");c.className+=" cuiffo-page-dot";a.appendChild(c);cuiffo.dom.addEventListener(c,"click",this.handleDotClick(this.elements[b]))}};cuiffo.Pages.prototype.handleDotClick=
function(a){return function(){cuiffo.PageAnimation.getInstance().scrollToElement(a)}};cuiffo.Pages.prototype.handleTouchStart=function(a){this.xDown=a.touches[0].clientX;this.yDown=a.touches[0].clientY;a.preventDefault()};cuiffo.Pages.prototype.handleTouchMove=function(a){a.preventDefault();if(!this.xDown||!this.yDown)return!1;var b=this.yDown-a.touches[0].clientY;Math.abs(this.xDown-a.touches[0].clientX)<Math.abs(b)&&(10<b?(a=Math.min(this.activePage+1,pages.length-1),cuiffo.PageAnimation.getInstance().scrollToPage(this.elements[a]),
this.updateActivePage(),this.yDown=this.xDown=null):-10>b&&(a=Math.max(this.activePage-1,0),cuiffo.PageAnimation.getInstance().scrollToElement(this.elements[a]),this.updateActivePage(),this.yDown=this.xDown=null));return!1};cuiffo.Pages.prototype.updateActivePage=function(){var a=document.getElementsByClassName("cuiffo-page-dot"),b=cuiffo.dom.getScrollPosition()/cuiffo.dom.getWindowHeight();this.activePage=Math.min(Math.round(b),1);a[this.activePage].classList.add("cuiffo-page-dot-active");for(b=
0;1>=b;b++)this.activePage!==b&&a[b].classList.remove("cuiffo-page-dot-active")}})();var cuiffo=cuiffo||{},origSplashSize,origComingSoonSize,positionInPage,handleResize=function(){var a=document.getElementsByClassName("cuiffo-page-title"),b=a[0],a=a[1],c=100,c=Math.min(550,Math.max(cuiffo.dom.getWindowWidth()-20,c)),c=c/origSplashSize.width;b.style.fontSize=100*c+"%";splashHeight=b.clientHeight;c=100;c=Math.min(550,Math.max(cuiffo.dom.getWindowWidth()-20,c));c/=origComingSoonSize.width;a.style.fontSize=100*c+"%";b=a.clientHeight;a.style.top=cuiffo.dom.getWindowHeight()/2-b/2+"px";
cuiffo.Pages.getInstance().resizePages()},handleScroll=function(a){if(cuiffo.PageAnimation.getInstance().isAnimating)return a.preventDefault(),!1;positionInPage=cuiffo.dom.getScrollPosition();cuiffo.TitleAnimation.getInstance().handleScroll();cuiffo.Pages.getInstance().updateActivePage()},init=function(){var a=document.getElementsByClassName("cuiffo-page-title")[0],b=document.getElementsByClassName("cuiffo-page-title")[1];origSplashSize=cuiffo.dom.getSize(a);origComingSoonSize=cuiffo.dom.getSize(b);
a.style.width="100%";b.style.width="100%";cuiffo.Pages.getInstance();cuiffo.dom.addEventListener(window,"resize",handleResize);cuiffo.dom.addEventListener(window,"scroll",handleScroll);handleResize();handleScroll()};init();
